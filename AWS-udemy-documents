IMA & AWS CLI
BÃ i 12: IAM introduction: Users, Groups, Polices
IAM = identity and Access Management, Global service

BÃ i 13: IAM Policies
Step 1:
TÃ¬m kiáº¿m IAM trÃªn thanh search -> sau Ä‘Ã³ click vÃ o Users bÃªn thanh sidebar -> createa user ->
                                * Specify user details -> User name (duyduc) -> tÃ­ch chá»n Provide user access to the AWS Management Console -> User type (tÃ­ch chá»n i want to create an IAM user) -> tÃ­ch chá»n Custom password vÃ  Ä‘áº·t máº­t kháº©u vÃ  bá» tÃ­ch chá»n User must create a new password at the next signin -> next

Step 2:
Click chá»n Create group -> trong create user group -> User group name -> tÃ­ch chá»n AdministratorAccess -> Create User Group -> sau khi táº¡o xong sáº½ tÃ­ch chá»n admin Ä‘Ã£ xuáº¥t hiá»‡n trong Group name -> xuá»‘ng Tags chá»n Add new tag -> key (department) && value-optional (Engineering) 

Step 3:
Sau khi Ä‘Äƒng nháº­p xong cÃ³ thá»ƒ quay láº¡i trang dashboard cá»§a IAM rá»“i -> Create trong Account Alias -> Ä‘á»ƒ edit láº¡i Sign-in URL for IAM users in this account 

-> BÃ i há»c rÃºt ra trong bÃ i nÃ y lÃ  phÃ¢n quyá»n ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Æ°á»£c táº¡o ra trong IAM user 

BÃ i 14: IAM Policies
IAM Policies (chÃ­nh sÃ¡ch IAM) trong AWS Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ quyá»n truy cáº­p (permissions) cho ngÆ°á»i dÃ¹ng, nhÃ³m, hoáº·c dá»‹ch vá»¥ trong há»‡ thá»‘ng AWS.

BÃ i 15: IAM Policies Hands On
// remove quyá»n cá»§a má»™t User
VÃ o User -> á»Ÿ pháº§n group click vÃ  sá»‘ 1 á»Ÿ dÆ°á»›i -> click vÃ o admin -> tÃ­ch chá»n user á»Ÿ dÆ°á»›i -> sau Ä‘Ã³ remove => dÃ¹ng Ä‘á»ƒ xoÃ¡ quyá»n cá»§a má»™t user
// Add thÃªm quyá»n cho má»™t User
VÃ o User Ä‘Ã³ trong Permisstions policies -> chá»n Add permissions -> chá»n Attach policies directly -> sáº½ xuáº¥t hiá»‡n Permissions policies (tÃ­ch chá»n quyá»n theo yÃªu cáº§u) -> next
// CÃ³ thá»ƒ táº¡o group sau Ä‘Ã³ thÃªm User Ä‘Ã³ vÃ o group
vÃ o User groups -> create group -> User group name (Ä‘áº·t tÃªn group) -> á»Ÿ Attach permissions policies - Optional tÃ­ch chá»n quyá»n (vÃ­ dá»¥ AdministratorAccess) -> Create user group 
-> sau khi táº¡o xong vÃ o group Ä‘Ã£ táº¡o -> chá»n Add users -> thÃªm user vÃ o trong -> click Add users

BÃ i 16: IAM MFA 
=> NÃ³i vá» báº£o máº­t 

BÃ i 17: IAM MFA Hands On
- VÃ o Account settings bÃªn thanh sidebar trong IAM -> click vÃ o Edit -> sáº½ xuáº¥t hiá»‡n Edit password policy -> custom password

ğŸ§ª BÆ°á»›c 1: Truy cáº­p trang quáº£n lÃ½ IAM
- VÃ o AWS Console: https://console.aws.amazon.com/
- GÃµ â€œIAMâ€ trong thanh tÃ¬m kiáº¿m vÃ  chá»n dá»‹ch vá»¥ IAM
- Trong sidebar trÃ¡i, chá»n Users
- Nháº¥p vÃ o tÃªn ngÆ°á»i dÃ¹ng (IAM User) mÃ  báº¡n muá»‘n báº­t MFA

ğŸ§ª BÆ°á»›c 2: Cáº¥u hÃ¬nh MFA
- Trong trang ngÆ°á»i dÃ¹ng, chá»n tab Security credentials
- KÃ©o xuá»‘ng pháº§n Multi-factor authentication (MFA)
- Nháº¥n Assign MFA device

ğŸ§ª BÆ°á»›c 3: Chá»n loáº¡i thiáº¿t bá»‹
- Chá»n Authenticator app (á»©ng dá»¥ng xÃ¡c thá»±c) â†’ Nháº¥n Next
- TrÃªn mÃ n hÃ¬nh sáº½ xuáº¥t hiá»‡n QR code

ğŸ§ª BÆ°á»›c 4: CÃ i Ä‘áº·t trÃªn Ä‘iá»‡n thoáº¡i
- Má»Ÿ á»©ng dá»¥ng Google Authenticator hoáº·c Authy
- Chá»n â€œAdd accountâ€ â†’ QuÃ©t mÃ£ QR tá»« AWS Console
- á»¨ng dá»¥ng sáº½ táº¡o ra mÃ£ OTP (6 sá»‘, thay Ä‘á»•i má»—i 30 giÃ¢y)

ğŸ§ª BÆ°á»›c 5: XÃ¡c thá»±c vÃ  hoÃ n táº¥t
- Quay láº¡i AWS Console, nháº­p hai mÃ£ OTP liÃªn tiáº¿p tá»« app (pháº£i chÃ­nh xÃ¡c)
- Nháº¥n Assign MFA
ğŸ‰ HoÃ n táº¥t! IAM User Ä‘Ã³ Ä‘Ã£ báº­t MFA.

BÃ i 18: AWS Access Keys, CLI and SDK
How can users access AWS ?
To access AWS, you have three options
   1. AWS Manament Console (protected by password + MFA)
   2. AWS Command Line Interface (CLI): protected by access keys
   3. AWS Software Developer Kit (SDK) - for code 

BÃ i 19 + BÃ i 20 + BÃ i 21:
How to install AWS CLI for windows , MacOs , Linux
// Documents cÃ i Ä‘áº·t cho 3 ná»n táº£ng trÃªn
https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html

BÃ i 22: AWS CLI Hands On
// Muá»‘n táº¡o Access key 
ğŸ‘¤ BÆ°á»›c 2: Má»Ÿ trang quáº£n lÃ½ IAM

- TrÃªn thanh Ä‘iá»u hÆ°á»›ng, chá»n Services â†’ tÃ¬m vÃ  chá»n IAM.
- Trong thanh sidebar chá»n Users.
- Nháº¥p vÃ o tÃªn ngÆ°á»i dÃ¹ng IAM mÃ  báº¡n muá»‘n táº¡o Access Key.

ğŸ”‘ BÆ°á»›c 3: Táº¡o Access Key
- Trong trang chi tiáº¿t cá»§a user, chá»n tab Security credentials.
- Cuá»™n xuá»‘ng pháº§n Access keys.
- Nháº¥n nÃºt Create access key.
- Trong bÆ°á»›c chá»n cÃ¡ch dÃ¹ng:
Nháº¥n Next vÃ  Create access key.

// SSH vÃ o server 
- aws configure
        Access Key ID: {Ä‘iá»n Access key Ä‘Ã£ táº¡o}
        Secret Access Key: {Ä‘iá»n Secret Access Key Ä‘Ã£ táº¡o}
        Region (vÃ­ dá»¥: ap-southeast-1)
        Output format (vÃ­ dá»¥: json)
- aws iam list-users // dÃ¹ng Ä‘á»ƒ xem táº¥t cÃ  User 

BÃ i 24: AWS CloudShell 
Shell má»™t biá»ƒu tÆ°á»£ng náº±m trÃªn thanh header cá»§a aws -> click vÃ o nÃ³
- Thao tÃ¡c cÃ¡c lá»‡nh tÆ°Æ¡ng tá»± nhÆ° trÃªn Ubuntu Linux

BÃ i 25: IAM Roles for AWS Services
- IAM Role for AWS Service lÃ  má»™t vai trÃ² (role) IAM mÃ  báº¡n gÃ¡n cho má»™t dá»‹ch vá»¥ AWS (nhÆ° EC2, Lambda, ECS...) Ä‘á»ƒ cáº¥p quyá»n truy cáº­p Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ AWS khÃ¡c

BÃ i 26: IAM Roles Hands On
- VÃ o Roles cá»§a IAM -> chá»n Create Roles -> Chá»n AWS service -> Use case (chá»n dá»‹ch vá»¥ nhÆ° EC2 hoáº·c Lambda) -> Next
- á»Ÿ Permissions policies -> tÃ¬m kiáº¿m trÃªn thanh search (tuá»³ chá»n quyá»n báº¡n cho dá»‹ch vá»¥ Ä‘Ã³ vÃ­ dá»¥ nhÆ° IAMReading) -> Next

BÃ i 27: IAM Security Tools
- IAM Security Tools
DÃ¹ng Ä‘á»ƒ:
* Táº¡o bÃ¡o cÃ¡o CSV cho toÃ n bá»™ IAM user trong tÃ i khoáº£n AWS:
* Láº§n cuá»‘i sá»­ dá»¥ng password, access key
* MFA Ä‘Ã£ báº­t chÆ°a
* Password cÅ©, háº¿t háº¡n chÆ°aâ€¦
Má»¥c Ä‘Ã­ch:
- Kiá»ƒm tra ngÆ°á»i dÃ¹ng cÃ³ tuÃ¢n thá»§ báº£o máº­t khÃ´ng, cÃ³ Ä‘ang dÃ¹ng access key cÅ©/máº¥t an toÃ n khÃ´ng.

BÃ i 28: IAM Security Tools hands On
- VÃ o User trong IAM - click vÃ o má»™t user báº¥t ká»³ -> chon Last Accessed => Ä‘á»ƒ xem hÃ nh Ä‘á»™ng gáº§n nháº¥t 

BÃ i 29: IAM Best Practice
- khÃ´ng sá»­ dá»¥ng tÃ i khoáº£n root ngoáº¡i trá»« khi thiáº¿t láº­p tÃ i khoáº£n AWS
- Má»™t ngÆ°á»i dÃ¹ng váº­t lÃ½ = Má»™t ngÆ°á»i dÃ¹ng AWS
- Chá»‰ Ä‘á»‹nh ngÆ°á»i dÃ¹ng vÃ o nhÃ³m vÃ  chá»‰ Ä‘á»‹nh quyá»n cho nhÃ³m
- Táº¡o máº­t kháº©u máº¡nh 
- Sá»­ dá»¥ng vÃ  thá»±c thi viá»‡c sá»­ dá»¥ng XÃ¡c thá»±c Ä‘a yáº¿u tá»‘
- Táº¡o vÃ  sá»­ dá»¥ng Vai trÃ² Ä‘á»ƒ cáº¥p quyá»n cho cÃ¡c dá»‹ch vá»¥ AWS
- Sá»­ dá»¥ng Key cáº­p Ä‘á»ƒ truy cáº­p theo chÆ°Æ¡ng trÃ¬nh
- Kiá»ƒm tra quyá»n cá»§a tÃ i khoáº£n cá»§a báº¡n báº±ng BÃ¡o cÃ¡o thÃ´ng tin xÃ¡c thá»±c IAM & Cá»‘ váº¥n truy cáº­p IAM
- KhÃ´ng bao giá» chia sáº» tÃ i khoáº£n IAM users vÃ  Access Keys

BÃ i 30: IAM Summary 
- Users: má»—i IAM User Ä‘Æ°á»£c táº¡o ra cho má»™t ngÆ°á»i tháº­t cá»¥ thá»ƒ chá»© khÃ´ng pháº£i cho á»©ng dá»¥ng hay dá»‹ch vá»¥
- Groups: Groups chá»‰ chá»©a Users
- Policies:  JSON dÃ¹ng Ä‘á»ƒ khai bÃ¡o quyá»n (permissions) mÃ  má»™t user, group hoáº·c role Ä‘Æ°á»£c phÃ©p thá»±c hiá»‡n trÃªn AWS.
- Roles: Ä‘Æ°á»£c táº¡o ra Ä‘á»ƒ EC2 hoáº·c dá»‹ch vá»¥ AWS sá»­ dá»¥ng
- Security: MFA + Password Policy
- AWS CLI: quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ AWS cá»§a báº¡n báº±ng cÃ¡ch sá»­ dá»¥ng dÃ²ng lá»‡nh

// EC2 Fundamentals
BÃ i 31: AWS Budget Setup
- VÃ o user root -> click chá»n account trÃªn thanh header -> chá»n Account -> kÃ©o xuá»‘ng IAM user and role access -> click chá»n Edit -> tÃ­ch chá»n Activate IAM Access -> update
- quay láº¡i User IAM -> nháº¥n vÃ o Accout vÃ  chá»n Billing and Cost Management -> 
- bÃªn thanh sidebar -> kÃ©o xuá»‘ng Budgets -> click Create budget -> á»Ÿ pháº§n Email recipients (Ä‘iá»n Email cáº§n alert vÃ o bÃªn trong) -> Create Budget

BÃ i 32: EC2 Basics
- EC2 lÃ  má»™t trong nhá»¯ng sáº£n pháº©m phá»• biáº¿n nháº¥t trong AWS
- EC2 viáº¿t táº¯t cá»§a Elastic Compute Cloud (CÆ¡ sá»Ÿ háº¡ táº§ng)

1. Renting virtual machines (EC2)
ğŸ‘‰ EC2 (Elastic Compute Cloud) cho phÃ©p báº¡n thuÃª mÃ¡y áº£o (virtual server) Ä‘á»ƒ cháº¡y á»©ng dá»¥ng, web, backend...
* Báº¡n cÃ³ thá»ƒ chá»n cáº¥u hÃ¬nh CPU, RAM, OS (Linux/Windows)
* Tráº£ phÃ­ theo giá» hoáº·c theo giÃ¢y
* TÆ°Æ¡ng Ä‘Æ°Æ¡ng nhÆ° thuÃª mÃ¡y chá»§ á»Ÿ trung tÃ¢m dá»¯ liá»‡u
ğŸ–¥ï¸ VÃ­ dá»¥: Cháº¡y backend Java hoáº·c webserver Nginx trÃªn EC2.

2. Storing data on virtual drives (EBS)
ğŸ‘‰ EBS (Elastic Block Store) lÃ  á»• Ä‘Ä©a áº£o gáº¯n vÃ o EC2.
* Giá»‘ng nhÆ° á»• cá»©ng cá»§a mÃ¡y tháº­t
* LÆ°u trá»¯ dá»¯ liá»‡u: database, file, app log
* CÃ³ thá»ƒ backup (snapshot), má»Ÿ rá»™ng dung lÆ°á»£ng
ğŸ’¾ VÃ­ dá»¥: EC2 cháº¡y MySQL, dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trÃªn EBS.

3. Distributing load across machines (ELB)
ğŸ‘‰ ELB (Elastic Load Balancer) giÃºp phÃ¢n phá»‘i lÆ°u lÆ°á»£ng truy cáº­p Ä‘áº¿n nhiá»u EC2.
* Tá»± Ä‘á»™ng chia táº£i giá»¯a cÃ¡c server
* Náº¿u 1 EC2 cháº¿t â†’ ELB bá» qua, chuyá»ƒn lÆ°u lÆ°á»£ng sang EC2 khÃ¡c
Há»— trá»£ HTTP(S), TCP, gRPC,...
ğŸŒ VÃ­ dá»¥: Website cÃ³ 3 EC2 â†’ ELB chia Ä‘á»u lÆ°á»£t truy cáº­p.

4. Scaling the services using an auto scaling group (ASG)
ğŸ‘‰ ASG (Auto Scaling Group) giÃºp tá»± Ä‘á»™ng tÄƒng/giáº£m sá»‘ lÆ°á»£ng EC2 theo nhu cáº§u.
* Náº¿u ngÆ°á»i dÃ¹ng tÄƒng â†’ tá»± táº¡o thÃªm EC2
* Náº¿u Ã­t ngÆ°á»i dÃ¹ng â†’ giáº£m EC2 Ä‘á»ƒ tiáº¿t kiá»‡m tiá»n
* Káº¿t há»£p vá»›i CloudWatch (theo dÃµi CPU, RAM)
ğŸ“ˆ VÃ­ dá»¥: TÄƒng EC2 khi CPU > 70% trong 5 phÃºt.

5. EFS lÃ  gÃ¬?
ğŸ‘‰ Amazon EFS lÃ  dá»‹ch vá»¥ lÆ°u trá»¯ dáº¡ng tá»‡p (file storage) cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng linh hoáº¡t, 
cho phÃ©p nhiá»u EC2 instances cÃ¹ng truy cáº­p chung má»™t há»‡ thá»‘ng file, giá»‘ng nhÆ° chia sáº» á»• Ä‘Ä©a máº¡ng (network drive).

1. Operating System (OS): Linux, Windows, or Mac OS
ÄÃ¢y lÃ  há»‡ Ä‘iá»u hÃ nh báº¡n cÃ i Ä‘áº·t trÃªn EC2 instance.
AWS há»— trá»£:
- Linux: Amazon Linux, Ubuntu, Red Hat, SUSE, CentOS
- Windows: Windows Server (2016, 2019, 2022â€¦)
- macOS: Mac EC2 dÃ nh cho phÃ¡t triá»ƒn á»©ng dá»¥ng iOS/macOS (giÃ¡ ráº¥t cao)
- Há»‡ Ä‘iá»u hÃ nh quyáº¿t Ä‘á»‹nh cÃ¡ch báº¡n cÃ i pháº§n má»m, báº£o máº­t vÃ  váº­n hÃ nh há»‡ thá»‘ng.

2. How much compute power & cores (CPU)
- Báº¡n chá»n loáº¡i EC2 instance (vÃ­ dá»¥: t3.micro, m5.large, c6a.xlarge,â€¦)
- Má»—i loáº¡i cÃ³ sá»‘ vCPU (virtual CPU) vÃ  sá»©c máº¡nh xá»­ lÃ½ khÃ¡c nhau.
VÃ­ dá»¥:
    * t2.micro â†’ 1 vCPU
    * m5.large â†’ 2 vCPU
    * c5.4xlarge â†’ 16 vCPU, dÃ nh cho xá»­ lÃ½ tÃ­nh toÃ¡n cao
    ğŸ’¡ CPU cÃ ng nhiá»u, xá»­ lÃ½ cÃ ng nhanh, nhÆ°ng giÃ¡ cÅ©ng tÄƒng.

3. How much random-access memory (RAM)
- CÃ¹ng vá»›i CPU, má»—i EC2 instance cÃ³ má»™t lÆ°á»£ng RAM (bá»™ nhá»›) cá»‘ Ä‘á»‹nh.
- RAM giÃºp cháº¡y á»©ng dá»¥ng, xá»­ lÃ½ dá»¯ liá»‡u nhanh.
- VÃ­ dá»¥:
    * t3.micro: 1 vCPU + 1 GB RAM
    * m5.large: 2 vCPU + 8 GB RAM
    * r6g.4xlarge: 16 vCPU + 128 GB RAM (dÃ nh cho há»‡ thá»‘ng nhiá»u bá»™ nhá»›)

4. How much storage space
4.1. Network-attached (EBS & EFS)
- EBS (Elastic Block Store):
  * á»” Ä‘Ä©a block gáº¯n vÃ o EC2
  * DÃ¹ng nhÆ° á»• cá»©ng C:\ hoáº·c /dev/xvda
CÃ³ thá»ƒ má»Ÿ rá»™ng, backup snapshot
- EFS (Elastic File System):
    * File system chia sáº» giá»¯a nhiá»u EC2
    * DÃ¹ng cho á»©ng dá»¥ng cáº§n chia sáº» file hoáº·c logs

4.2. Hardware (EC2 Instance Store)
- á»” Ä‘Ä©a váº­t lÃ½ gáº¯n trá»±c tiáº¿p vÃ o mÃ¡y chá»§ váº­t lÃ½ cháº¡y EC2
- Nhanh hÆ¡n EBS nhÆ°ng:
  * Dá»¯ liá»‡u máº¥t khi táº¯t EC2
  * KhÃ´ng backup Ä‘Æ°á»£c
- DÃ¹ng cho cache, dá»¯ liá»‡u táº¡m thá»i

5. Network card: speed of the card, Public IP address
- Má»—i EC2 cÃ³ card máº¡ng áº£o, bÄƒng thÃ´ng phá»¥ thuá»™c loáº¡i instance:
    t3.micro â†’ tháº¥p (~5 Mbps)
    c6i.4xlarge â†’ ~10 Gbps
- Báº¡n cÃ³ thá»ƒ gÃ¡n public IP Ä‘á»ƒ truy cáº­p tá»« Internet.
- Hoáº·c gÃ¡n Elastic IP (IP tÄ©nh) Ä‘á»ƒ giá»¯ cá»‘ Ä‘á»‹nh.

6. Firewall rules: security group
- Security Group lÃ  tÆ°á»ng lá»­a áº£o cho EC2
* Quy Ä‘á»‹nh:
- Cá»•ng nÃ o Ä‘Æ°á»£c má»Ÿ (22, 80, 443,...)
- Ai Ä‘Æ°á»£c phÃ©p truy cáº­p (IP hoáº·c CIDR)
* VÃ­ dá»¥:
- Cho phÃ©p SSH tá»« IP báº¡n: TCP 22, Source: your-IP/32
- Má»Ÿ web: TCP 80, Source: 0.0.0.0/0

7. Bootstrap script: EC2 User Data
- User Data lÃ  shell script hoáº·c cloud-init báº¡n chÃ¨n vÃ o lÃºc khá»Ÿi táº¡o EC2.
- NÃ³ sáº½ tá»± Ä‘á»™ng cháº¡y 1 láº§n duy nháº¥t khi EC2 khá»Ÿi Ä‘á»™ng láº§n Ä‘áº§u.
- DÃ¹ng Ä‘á»ƒ:
    CÃ i app (Apache, Dockerâ€¦)
    Update há»‡ thá»‘ng
    Pull code tá»« Git

BÃ i 33: Create an EC2 instance with EC2 User Data to have a Website Hands On
- VÃ o mÃ n hÃ¬nh console tÃ¬m -> EC2 -> Click instances bÃªn thanh sidebar -> chá»n launch instances
- Name and tags (EC2_Ubuntu)
- Quick Start (click chá»n Ubuntu)
- Key pair name - required (Ä‘áº·t tÃªn instance_Key_DevOps_On_AWS) -> Create key pair
- VPC - required (thay Ä‘á»•i thÃ nh devops-vpc bÃ i trÆ°á»›c Ä‘Ã£ táº¡o)
- Subnet chá»n devops-subnet-public2
- Auto-assign public IP (chá»n Enable)
- Security group name - required (devops_sg)
- configure storage (1x tÄƒng lÃªn 18) 
- click launch instance Ä‘á»ƒ táº¡o mÃ¡y chá»§

BÃ i 34: EC2 Instance Types Basics
- Khi báº¡n táº¡o má»™t EC2 instance trÃªn AWS, báº¡n sáº½ pháº£i chá»n Instance Type â€“ Ä‘Ã¢y lÃ  lá»±a chá»n quan trá»ng vÃ¬ nÃ³ quyáº¿t Ä‘á»‹nh:

âœ… CPU (sá»‘ lÃµi, tá»‘c Ä‘á»™)
âœ… RAM (bá»™ nhá»›)
âœ… BÄƒng thÃ´ng máº¡ng
âœ… Dung lÆ°á»£ng lÆ°u trá»¯ táº¡m thá»i (náº¿u cÃ³)
âœ… GiÃ¡ tiá»n báº¡n sáº½ tráº£ theo giá» hoáº·c theo giÃ¢y
âœ… EC2 Instance Types â€“ Tá»•ng quan cÆ¡ báº£n
EC2 Instance Types Ä‘Æ°á»£c chia thÃ nh nhiá»u "family" (há»), má»—i há» tá»‘i Æ°u cho má»™t má»¥c Ä‘Ã­ch riÃªng.

ğŸ”¹ 1. General Purpose â€“ CÃ¢n báº±ng CPU, RAM
- Family	Má»¥c Ä‘Ã­ch	VÃ­ dá»¥ loáº¡i
- t	Tiáº¿t kiá»‡m, táº£i nháº¹	t2.micro, t3.small
- m	Äa nÄƒng	m5.large, m6i.xlarge

ğŸ“Œ DÃ¹ng cho webserver, app nhá», dev/test

ğŸ”¹ 2. Compute Optimized â€“ Tá»‘i Æ°u CPU
- Family	Má»¥c Ä‘Ã­ch	VÃ­ dá»¥ loáº¡i
- c	TÃ­nh toÃ¡n cao, xá»­ lÃ½ máº¡nh	c5.large, c6g.2xlarge

ğŸ“Œ DÃ¹ng cho web server cÃ³ táº£i cao, xá»­ lÃ½ nhiá»u yÃªu cáº§u/ngÆ°á»i dÃ¹ng

ğŸ”¹ 3. Memory Optimized â€“ Tá»‘i Æ°u RAM
- Family	Má»¥c Ä‘Ã­ch	VÃ­ dá»¥ loáº¡i
- r	RAM lá»›n cho DB	r5.large, r6g.4xlarge
- x, u	RAM cá»±c lá»›n	x1e.32xlarge

ğŸ“Œ DÃ¹ng cho database, in-memory cache (Redis, Memcached), xá»­ lÃ½ dá»¯ liá»‡u lá»›n

ğŸ”¹ 4. Storage Optimized â€“ Tá»‘i Æ°u IOPS, disk
- Family	Má»¥c Ä‘Ã­ch	VÃ­ dá»¥ loáº¡i
- i	SSD cá»±c nhanh	i3.large, i4i.xlarge
- d	HDD lá»›n	d2.8xlarge

ğŸ“Œ DÃ¹ng cho big data, log processing, ElasticSearch

ğŸ”¹ 5. Accelerated Computing â€“ GPU hoáº·c pháº§n cá»©ng Ä‘áº·c biá»‡t
- Family	Má»¥c Ä‘Ã­ch	VÃ­ dá»¥ loáº¡i
- p	GPU cho ML/AI	p3.2xlarge, p4d.24xlarge
- g	GPU cho game, Ä‘á»“ hoáº¡	g4dn.xlarge
- f	FPGA (logic tÃ¹y biáº¿n)	f1.2xlarge

ğŸ“Œ DÃ¹ng cho training AI/ML, rendering 3D, video, game streaming

ğŸ”¢ KÃ­ch thÆ°á»›c instance (Size)
- Má»—i loáº¡i family cÃ³ cÃ¡c size khÃ¡c nhau:

KÃ½ hiá»‡u	Ã nghÄ©a
- .micro	Nhá» nháº¥t (Ã­t RAM, CPU)
- .small, .medium	Trung bÃ¬nh
- .large, .xlarge	Lá»›n hÆ¡n
- 2xlarge, 4xlarge, 8xlarge, v.v.	Gáº¥p nhiá»u láº§n vá» tÃ i nguyÃªn

ğŸ“Œ VÃ­ dá»¥: t3.micro (1 vCPU, 1GB RAM), m5.2xlarge (8 vCPU, 32GB RAM)

ğŸ’¡ CÃ¡ch chá»n instance type
- Nhu cáº§u	Instance Ä‘á» xuáº¥t
- Thá»­ nghiá»‡m, dev nhá»	t2.micro hoáº·c t3.micro (náº±m trong Free Tier)
- Web server vá»«a	t3.medium hoáº·c m5.large
- DB MySQL	r5.large hoáº·c r6g.large
- Dá»± Ã¡n AI	p3, g4
- Game server	c5, c6i
- ElasticSearch, log	i3, d2

ğŸ§  Tá»•ng káº¿t
- Há» (family)	DÃ¹ng cho
- t, m	Tá»•ng quÃ¡t
- c	CPU-intensive
- r, x	Memory-intensive
- i, d	Storage-intensive
- p, g, f	GPU, AI/ML, Ä‘á»“ há»a

BÃ i 35: Security Groups && Classic Ports Overview
* Giá»›i thiá»‡u vá» Security Groups trong AWS
âœ… Security Group lÃ  gÃ¬?
* Security Group lÃ  tÆ°á»ng lá»­a áº£o (virtual firewall) trong AWS, Ä‘Æ°á»£c gáº¯n vÃ o EC2 hoáº·c cÃ¡c dá»‹ch vá»¥ khÃ¡c nhÆ° RDS, Lambda (vPC-based), ENIâ€¦

* NÃ³ giÃºp kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng máº¡ng vÃ o (inbound) vÃ  ra (outbound) cá»§a tÃ i nguyÃªn AWS theo:

- Giao thá»©c (TCP, UDP, ICMP,â€¦)
- Cá»•ng (Port: 22, 80, 443, â€¦)

* Nguá»“n hoáº·c Ä‘Ã­ch (IP, CIDR, Security Group khÃ¡c)

ğŸ“¦ Äáº·c Ä‘iá»ƒm chÃ­nh cá»§a Security Group
- TÃ­nh nÄƒng	MÃ´ táº£
- Stateful	Tá»± Ä‘á»™ng cho phÃ©p lÆ°u lÆ°á»£ng pháº£n há»“i, khÃ´ng cáº§n rule ngÆ°á»£c láº¡i
- Chá»‰ cho phÃ©p (allow)	Báº¡n chá»‰ cÃ³ thá»ƒ cho phÃ©p, khÃ´ng cÃ³ khÃ¡i niá»‡m â€œdenyâ€
- Ãp dá»¥ng theo instance	CÃ³ thá»ƒ gáº¯n 1 hoáº·c nhiá»u Security Group vÃ o EC2 instance
- Hoáº¡t Ä‘á»™ng á»Ÿ layer 4	Kiá»ƒm soÃ¡t theo giao thá»©c vÃ  cá»•ng, khÃ´ng theo hostname hay URL

=> Chá»‰ cho phÃ©p tá»« bÃªn ngoÃ i truy cáº­p vÃ o bÃªn trong khi báº¡n má»Ÿ inbounds bÃªn trong EC2


BÃ i 36: Security Groups Hands On
- Trong EC2 Ubuntu vá»«a táº¡o á»Ÿ pháº§n dÆ°á»›i cÃ³ Security -> á»Ÿ phÃ­a dÆ°á»›i cÃ³ Security groups -> cÃ³ thá»ƒ nháº¥n vÃ o Ä‘á»ƒ xem cÃ¡c IP vÃ  Port Ä‘Ã£ má»Ÿ
- bÃªn cáº¡nh thanh sidebar -> Network & Security á»Ÿ pháº§n Security Groups -> click vÃ o sáº½ tháº¥y cÃ¡c Security group Ä‘Ã£ táº¡o -> cÃ³ thá»ƒ nháº¥n vÃ o security groups Ä‘á»ƒ coi cÃ¡c port nÃ o Ä‘Ã£ Ä‘Æ°á»£c má»Ÿ
          -> náº¿u muá»‘n má»Ÿ thÃªm port cÃ³ thá»ƒ má»Ÿ thÃª port báº±ng cÃ¡ch Edit inbound rules vÃ  add rules Ä‘á»ƒ thÃªm port

BÃ i 37: SSH Overview
- SSH (Secure Shell) lÃ  giao thá»©c máº¡ng mÃ£ hÃ³a dÃ¹ng Ä‘á»ƒ:
Truy cáº­p tá»« xa vÃ o mÃ¡y chá»§ (remote login)
Thá»±c thi lá»‡nh trÃªn mÃ¡y Linux tá»« xa
Truyá»n file an toÃ n qua SFTP hoáº·c SCP

BÃ i 38 + 39 + 40 + 41 SSH tools
BÃ i 42: EC2 Instance Connect 
- Connect bÃªn trong EC2 instance 

BÃ i 43: EC2 instance Roles Demo
- vÃ o EC2 -> chá»n mÃ¡y chá»§ cáº§n cáº¥p quyá»n -> chá»n Action -> Security -> chá»n Modify IAM ROLE -> IAM role -> chá»n Security Groups -> sau Ä‘Ã³ Update IAM role
=> LÃ  IAM Role Ä‘Æ°á»£c gÃ¡n cho EC2, giÃºp EC2 cÃ³ thá»ƒ tá»± Ä‘á»™ng truy cáº­p dá»‹ch vá»¥ AWS khÃ¡c (S3, CloudWatch, DynamoDB, v.v.) mÃ  khÃ´ng cáº§n gÃ¡n Access Key thá»§ cÃ´ng.

BÃ i 44: EC2 instance Purchasing Options
ğŸ’° EC2 Instance Purchasing Options â€“ CÃ¡c lá»±a chá»n mua EC2 trÃªn AWS
AWS cung cáº¥p nhiá»u hÃ¬nh thá»©c mua vÃ  sá»­ dá»¥ng EC2 instance Ä‘á»ƒ báº¡n cÃ³ thá»ƒ tá»‘i Æ°u chi phÃ­ tÃ¹y theo nhu cáº§u:

âœ… 1. On-Demand Instances (Tráº£ tiá»n theo giá»/giÃ¢y â€“ linh hoáº¡t)
Äáº·c Ä‘iá»ƒm	MÃ´ táº£
ğŸ’¸ GiÃ¡ cao nháº¥t	NhÆ°ng khÃ´ng cam káº¿t gÃ¬ cáº£
â° Tráº£ theo giá» hoáº·c giÃ¢y	KhÃ´ng cáº§n cam káº¿t lÃ¢u dÃ i
ğŸ“¦ Dá»… dÃ¹ng, dá»… quáº£n lÃ½	PhÃ¹ há»£p Ä‘á»ƒ test, dev, workload khÃ´ng á»•n Ä‘á»‹nh

ğŸ‘‰ DÃ¹ng khi báº¡n cáº§n EC2 ngay láº­p tá»©c, khÃ´ng rÃµ thá»i gian cháº¡y lÃ  bao lÃ¢u.

âœ… 2. Reserved Instances (RI) (Äáº·t chá»— trÆ°á»›c, cam káº¿t sá»­ dá»¥ng dÃ i háº¡n)
Äáº·c Ä‘iá»ƒm	MÃ´ táº£
ğŸ’° GiÃ¡ ráº» hÆ¡n On-Demand (~30-72%)	Äá»•i láº¡i pháº£i cam káº¿t dÃ¹ng 1 nÄƒm hoáº·c 3 nÄƒm
ğŸ§¾ Tráº£ má»™t pháº§n hoáº·c toÃ n bá»™ trÆ°á»›c	CÃ³ 3 hÃ¬nh thá»©c thanh toÃ¡n: No Upfront, Partial, All Upfront
ğŸš« KhÃ´ng thá»ƒ há»§y	NhÆ°ng cÃ³ thá»ƒ Ä‘á»•i loáº¡i trong cÃ¹ng family/zone (convertible RI)

ğŸ‘‰ PhÃ¹ há»£p vá»›i há»‡ thá»‘ng cháº¡y 24/7 nhÆ° backend, web server cá»‘ Ä‘á»‹nh.

âœ… 3. Spot Instances (Äáº¥u giÃ¡ â€“ cá»±c ráº»)
Äáº·c Ä‘iá»ƒm	MÃ´ táº£
ğŸ’¸ GiÃ¡ ráº» hÆ¡n ráº¥t nhiá»u (~70-90%)	NhÆ°ng AWS cÃ³ thá»ƒ thu há»“i báº¥t cá»© lÃºc nÃ o
ğŸš« KhÃ´ng Ä‘áº£m báº£o duy trÃ¬ 100%	Báº¡n sáº½ bá»‹ dá»«ng náº¿u cÃ³ ngÆ°á»i khÃ¡c tráº£ giÃ¡ cao hÆ¡n
ğŸ§  DÃ¹ng cho batch jobs, ML training, CI/CD runners	Nhá»¯ng workload táº¡m thá»i, khÃ´ng yÃªu cáº§u uptime cao

ğŸ‘‰ PhÃ¹ há»£p Ä‘á»ƒ tiáº¿t kiá»‡m chi phÃ­, náº¿u app cÃ³ thá»ƒ tá»± xá»­ lÃ½ khi bá»‹ máº¥t mÃ¡y.

âœ… 4. Savings Plans (Linh hoáº¡t hÆ¡n Reserved Instances)
Äáº·c Ä‘iá»ƒm	MÃ´ táº£
ğŸ’¸ Cam káº¿t sá»­ dá»¥ng má»™t má»©c tiá»n cá»‘ Ä‘á»‹nh/thÃ¡ng	VÃ­ dá»¥: cam káº¿t dÃ¹ng $200 EC2 má»—i thÃ¡ng trong 1 nÄƒm
ğŸ” Linh hoáº¡t vá» instance type, size, region	KhÃ´ng khÃ³a cá»©ng nhÆ° Reserved Instances
ğŸ“ˆ Dá»… dá»± Ä‘oÃ¡n ngÃ¢n sÃ¡ch	CÃ³ thá»ƒ Ã¡p dá»¥ng vá»›i Lambda, Fargate (tÃ¹y loáº¡i plan)

ğŸ‘‰ PhÃ¹ há»£p náº¿u báº¡n dÃ¹ng EC2 thÆ°á»ng xuyÃªn nhÆ°ng muá»‘n linh hoáº¡t cáº¥u hÃ¬nh.

âœ… 5. Dedicated Hosts / Dedicated Instances (ThuÃª nguyÃªn mÃ¡y váº­t lÃ½)
Loáº¡i	MÃ´ táº£
Dedicated Instance	MÃ¡y váº­t lÃ½ chá»‰ cÃ³ instance cá»§a báº¡n, nhÆ°ng AWS váº«n quáº£n lÃ½
Dedicated Host	Báº¡n thuÃª háº³n mÃ¡y váº­t lÃ½ â†’ tá»± phÃ¢n bá»• EC2, tá»± license (VD: Windows, Oracle)

ğŸ‘‰ PhÃ¹ há»£p cho tuÃ¢n thá»§ báº£o máº­t, yÃªu cáº§u license riÃªng, hoáº·c há»‡ thá»‘ng Ä‘áº·c biá»‡t.

BÃ i 45: IP Address Charges in AWS
Trong AWS, IP address chá»§ yáº¿u liÃªn quan Ä‘áº¿n cÃ¡c Ä‘á»‹a chá»‰ sau:

- Public IP (Ä‘á»‹a chá»‰ IP cÃ´ng cá»™ng)
- Elastic IP (Ä‘á»‹a chá»‰ IP tÄ©nh cÃ´ng cá»™ng do báº¡n quáº£n lÃ½)
- Private IP (IP ná»™i bá»™ trong VPC)

âœ… 1. Public IP (Táº¡m thá»i â€“ Auto-Assigned)
Khi báº¡n khá»Ÿi táº¡o EC2 mÃ  khÃ´ng gÃ¡n Elastic IP, AWS sáº½ tá»± cáº¥p má»™t Public IPv4 táº¡m thá»i.

â›” KhÃ´ng bá»‹ tÃ­nh phÃ­
âš ï¸ NhÆ°ng IP nÃ y sáº½ thay Ä‘á»•i náº¿u báº¡n stop/start láº¡i EC2.
ğŸŸ¢ Miá»…n phÃ­, nhÆ°ng khÃ´ng á»•n Ä‘á»‹nh (khÃ´ng dÃ¹ng cho domain hoáº·c há»‡ thá»‘ng cáº§n IP cá»‘ Ä‘á»‹nh).

âœ… 2. Elastic IP (EIP) â€“ IP tÄ©nh, báº¡n quáº£n lÃ½
LÃ  Ä‘á»‹a chá»‰ IP cÃ´ng cá»™ng cá»‘ Ä‘á»‹nh gÃ¡n cho EC2, Load Balancer, NAT Gateway,â€¦

âœ… Miá»…n phÃ­ náº¿u:
IP Ä‘Æ°á»£c gÃ¡n cho má»™t EC2 Ä‘ang cháº¡y
Chá»‰ dÃ¹ng 1 Elastic IP Ä‘áº§u tiÃªn

ğŸ’¸ TÃ­nh phÃ­ náº¿u:
TrÆ°á»ng há»£p bá»‹ tÃ­nh phÃ­	Chi phÃ­
EIP khÃ´ng gÃ¡n vÃ o instance nÃ o	$0.005/giá» ($3.6/thÃ¡ng)
EIP gÃ¡n vÃ o instance bá»‹ táº¯t (stopped)	~$0.005/giá»
Sá»­ dá»¥ng nhiá»u hÆ¡n 1 EIP cÃ¹ng lÃºc	~$0.005/giá» cho má»—i EIP thá»© 2 trá»Ÿ Ä‘i

ğŸ’¡ AWS khuyáº¿n khÃ­ch khÃ´ng giá»¯ IP mÃ  khÃ´ng dÃ¹ng â‡’ vÃ¬ váº­y sáº½ tÃ­nh phÃ­ náº¿u báº¡n lÃ£ng phÃ­ IP.

âœ… 3. Private IP (IP ná»™i bá»™ trong VPC)
ÄÆ°á»£c cáº¥p tá»± Ä‘á»™ng trong VPC (vÃ­ dá»¥: 10.0.0.0/16, 192.168.0.0/16)
KhÃ´ng bá»‹ tÃ­nh phÃ­

ğŸŸ¢ Miá»…n phÃ­ hoÃ n toÃ n â€“ dÃ¹ng cho giao tiáº¿p ná»™i bá»™ giá»¯a cÃ¡c EC2, RDS, v.v.

âœ… 4. IPv6 Addresses
AWS cung cáº¥p miá»…n phÃ­ cÃ¡c Ä‘á»‹a chá»‰ IPv6 (vÃ¬ IPv6 chÆ°a khan hiáº¿m nhÆ° IPv4)
KhÃ´ng bá»‹ tÃ­nh phÃ­

BÃ i 46: Spot instance & Spot Fleet AWS 
1. Spot Instance lÃ  gÃ¬?
Spot Instance lÃ  loáº¡i EC2 báº¡n thuÃª vá»›i giÃ¡ ráº» hÆ¡n ráº¥t nhiá»u (giáº£m Ä‘áº¿n 90%) so vá»›i On-Demand, báº±ng cÃ¡ch "Ä‘áº¥u giÃ¡ tÃ i nguyÃªn EC2 nhÃ n rá»—i cá»§a AWS".

ğŸ’° GiÃ¡ siÃªu ráº», nhÆ°ng cÃ³ thá»ƒ bá»‹ AWS thu há»“i báº¥t ká»³ lÃºc nÃ o náº¿u cÃ³ ngÆ°á»i dÃ¹ng khÃ¡c tráº£ giÃ¡ cao hÆ¡n hoáº·c AWS cáº§n láº¡i tÃ i nguyÃªn.

ğŸ“Œ Khi nÃ o nÃªn dÃ¹ng Spot Instance?
TÃ¬nh huá»‘ng	CÃ³ nÃªn dÃ¹ng Spot khÃ´ng?
âœ… Xá»­ lÃ½ batch job	Ráº¥t nÃªn â€“ ráº» vÃ  cháº¥p nháº­n máº¥t
âœ… Training AI / ML	Ráº¥t nÃªn â€“ tiáº¿t kiá»‡m GPU
âœ… CI/CD runners	NÃªn â€“ náº¿u job cÃ³ thá»ƒ cháº¡y láº¡i
âŒ Web server production	KhÃ´ng â€“ vÃ¬ cÃ³ thá»ƒ bá»‹ dá»«ng
âŒ Database, há»‡ thá»‘ng cáº§n á»•n Ä‘á»‹nh	KhÃ´ng â€“ cáº§n uptime cao

ğŸ’¥ Äiá»u gÃ¬ xáº£y ra khi bá»‹ thu há»“i?
AWS sáº½ gá»­i thÃ´ng bÃ¡o trÆ°á»›c 2 phÃºt (spot instance termination notice)
Báº¡n cÃ³ thá»ƒ dÃ¹ng script Ä‘á»ƒ gracefully shutdown hoáº·c lÆ°u tiáº¿n trÃ¬nh

ğŸ“Š VÃ­ dá»¥ giÃ¡ Spot:
Instance Type	On-Demand	Spot Price (Æ°á»›c tÃ­nh)
t3.large	$0.0832/h	~$0.024/h
c6g.2xlarge	$0.272/h	~$0.081/h
p3.2xlarge (GPU)	$3.06/h	~$0.90/h

ğŸ”¹ 2. Spot Fleet lÃ  gÃ¬?
Spot Fleet = Táº­p há»£p nhiá»u Spot Instance + quáº£n lÃ½ tá»± Ä‘á»™ng hÃ³a chá»n loáº¡i mÃ¡y vÃ  vÃ¹ng (AZ) Ä‘á»ƒ Ä‘áº£m báº£o kháº£ nÄƒng cháº¡y á»•n Ä‘á»‹nh nháº¥t vá»›i giÃ¡ ráº» nháº¥t.

TÆ°á»Ÿng tÆ°á»£ng nhÆ° má»™t nhÃ³m Spot Instance Ä‘Æ°á»£c AWS quáº£n lÃ½ theo chiáº¿n lÆ°á»£c tá»‘i Æ°u (vá» giÃ¡ hoáº·c dung lÆ°á»£ng).

âš™ï¸ Spot Fleet cho phÃ©p báº¡n:
Chá»n nhiá»u loáº¡i instance khÃ¡c nhau (c5.large, m5.large, t3.medium, ...)

Chá»n nhiá»u Availability Zones

AWS sáº½:

Chá»n cÃ¡c loáº¡i Ä‘ang ráº» nháº¥t, á»•n Ä‘á»‹nh nháº¥t

Quáº£n lÃ½ viá»‡c khá»Ÿi táº¡o/thu há»“i Spot instance

CÃ³ thá»ƒ dÃ¹ng cho Auto Scaling Group, cháº¡y ECS, EMR, v.v.

BÃ i 47: EC2 instances Launch Types Hands On 
- Hands-on cÃ¡c loáº¡i Launch Types cá»§a EC2 instances trong AWS,
giÃºp báº¡n hiá»ƒu rÃµ cÃ¡ch táº¡o, cáº¥u hÃ¬nh vÃ  sá»­ dá»¥ng tá»«ng loáº¡i nhÆ° On-Demand, Spot, Reserved, Dedicated Host.

ğŸ§ª Hands-on 1: Khá»Ÿi táº¡o EC2 kiá»ƒu On-Demand (UI)
- Truy cáº­p AWS Console â†’ EC2 â†’ Launch Instance
- Chá»n AMI: vÃ­ dá»¥ Amazon Linux 2023
- Chá»n loáº¡i mÃ¡y: t2.micro (Free Tier eligible)
- Storage: giá»¯ máº·c Ä‘á»‹nh
- Key pair: táº¡o hoáº·c chá»n sáºµn (Ä‘á»ƒ SSH vÃ o)
- Security Group: má»Ÿ port 22 (SSH), 80 (web)
- Chá»n Launch Type máº·c Ä‘á»‹nh lÃ  On-Demand
- Nháº¥n Launch

âœ… Xong! Báº¡n vá»«a táº¡o xong má»™t On-Demand EC2.

ğŸ§ª Hands-on 2: Táº¡o Spot Instance
- AWS Console â†’ EC2 â†’ Instances â†’ Launch Instance
- Trong bÆ°á»›c chá»n instance type, tick vÃ o:

âœ… "Request Spot Instances"
- CÃ¡c bÆ°á»›c cÃ²n láº¡i giá»‘ng nhÆ° On-Demand:
- Chá»n AMI, loáº¡i mÃ¡y, key pair, v.v.
Báº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh thÃªm:
- Max price (giÃ¡ cao nháº¥t báº¡n chá»‹u)
- Duration (thá»i gian tá»‘i Ä‘a cháº¡y)
Nháº¥n Launch

ğŸ“Œ LÆ°u Ã½:
Náº¿u AWS khÃ´ng cÃ³ tÃ i nguyÃªn ráº£nh hoáº·c cÃ³ ngÆ°á»i tráº£ giÃ¡ cao hÆ¡n â†’ request khÃ´ng Ä‘Æ°á»£c cáº¥p
Spot cÃ³ thá»ƒ bá»‹ thu há»“i náº¿u khÃ´ng cÃ²n tÃ i nguyÃªn

ğŸ§ª Hands-on 3: Reserved Instance (RI)
âš ï¸ Báº¡n khÃ´ng táº¡o instance má»›i mÃ  mua quyá»n sá»­ dá»¥ng cá»‘ Ä‘á»‹nh nhÆ° sau:

VÃ o EC2 â†’ Reserved Instances â†’ Purchase Reserved Instance
Chá»n:
- Instance Type (vÃ­ dá»¥: t3.medium)
Region & AZ
- Term: 1 nÄƒm hoáº·c 3 nÄƒm
- Payment: No upfront, Partial, All upfront
XÃ¡c nháº­n thanh toÃ¡n

â¡ï¸ Khi báº¡n cháº¡y EC2 Ä‘Ãºng cáº¥u hÃ¬nh, sáº½ Ä‘Æ°á»£c tÃ­nh giÃ¡ RI thay vÃ¬ On-Demand.

ğŸ§ª Hands-on 4: Dedicated Host
- EC2 Console â†’ Dedicated Hosts â†’ Allocate Host
Chá»n:
- Instance family (vÃ­ dá»¥ c6i)
- AZ (Availability Zone)
Host Tenancy
- Sau khi Allocate, quay láº¡i Launch Instance
- Trong Tenancy, chá»n Dedicated host
* EC2 sáº½ Ä‘Æ°á»£c gÃ¡n vÃ o host riÃªng
ğŸ“Œ PhÃ¹ há»£p cho nhá»¯ng ai cáº§n host riÃªng biá»‡t, tuÃ¢n thá»§ báº£o máº­t, kiá»ƒm soÃ¡t license (BYOL).

Pháº§n 6: EC2 - Solutions Architect Associate Level

BÃ i 48: Private vs Public vs Elastic IP
ğŸ”¹ 1. Private IP
- ÄÆ°á»£c gÃ¡n tá»± Ä‘á»™ng cho má»—i EC2 trong VPC
- Dáº¡ng: 10.x.x.x, 172.x.x.x, 192.168.x.x (giá»‘ng LAN)
- Chá»‰ dÃ¹ng Ä‘á»ƒ giao tiáº¿p ná»™i bá»™ trong cÃ¹ng VPC (hoáº·c qua VPN/Peering)
- KhÃ´ng thá»ƒ truy cáº­p tá»« Internet náº¿u chá»‰ cÃ³ Private IP

ğŸ”¹ 2. Public IP
- IP cÃ´ng khai, ai trÃªn Internet cÅ©ng cÃ³ thá»ƒ truy cáº­p
- GÃ¡n tá»± Ä‘á»™ng náº¿u báº¡n chá»n Auto-assign Public IP khi táº¡o EC2
- Tuy nhiÃªn, náº¿u báº¡n stop/start EC2, public IP cÃ³ thá»ƒ Ä‘á»•i
- KhÃ´ng nÃªn dÃ¹ng public IP náº¿u báº¡n cáº§n Ä‘á»‹a chá»‰ á»•n Ä‘á»‹nh

3. Elastic IP (EIP)
- LÃ  Public IP tÄ©nh (cÃ´ng khai) mÃ  báº¡n tá»± quáº£n lÃ½
- Gáº¯n vÃ o EC2 thá»§ cÃ´ng (hoáº·c qua script)
- KhÃ´ng Ä‘á»•i IP ká»ƒ cáº£ khi EC2 stop/start
- Báº¡n pháº£i tráº£ phÃ­ náº¿u EIP khÃ´ng gáº¯n vá»›i instance nÃ o

BÃ i 49: Private vs Public vs Elastic IP Hands On
- ğŸ”§ BÆ¯á»šC 1: Táº¡o EC2 vÃ  kiá»ƒm tra Private IP
- VÃ o EC2 Console â†’ Launch Instance
- AMI: Amazon Linux 2 hoáº·c Ubuntu
- Instance Type: t2.micro (free tier)
- Network settings:
- VPC: chá»n default
- Subnet: chá»n báº¥t ká»³
- Auto-assign public IP: disable (khÃ´ng báº­t)
- Táº¡o hoáº·c chá»n key pair Ä‘á»ƒ SSH
- Launch instance

âœ… Sau khi táº¡o xong:

- Chá»n instance â†’ tab Networking
- Xem IP:
- Private IPv4: VÃ­ dá»¥ 10.0.1.5
- Public IP: âŒ KhÃ´ng cÃ³

âœ… ÄÃ¢y lÃ  instance chá»‰ cÃ³ IP ná»™i bá»™, khÃ´ng SSH Ä‘Æ°á»£c tá»« Internet.

ğŸ”§ BÆ¯á»šC 2: Táº¡o EC2 cÃ³ Public IP
- Láº·p láº¡i bÆ°á»›c táº¡o EC2 nhÆ° trÃªn
- á» bÆ°á»›c "Network settings":
- Auto-assign Public IP: Enable

âœ… Sau khi launch:

- Instance cÃ³ Private IP: 10.x.x.x
- CÃ³ thÃªm Public IPv4: vÃ­ dá»¥ 18.208.123.15

ğŸ“Œ Truy cáº­p SSH:
- ssh -i my-key.pem ec2-user@18.208.123.15
ğŸ’¡ LÆ°u Ã½: Náº¿u stop/start láº¡i instance nÃ y, Public IP sáº½ thay Ä‘á»•i!

ğŸ“Œ BÆ¯á»šC 3: GÃ¡n Elastic IP vÃ o EC2
ğŸ§± BÆ°á»›c A: Allocate Elastic IP
- VÃ o EC2 â†’ Network & Security â†’ Elastic IPs
- Click Allocate Elastic IP
- Chá»n Amazon pool â†’ Allocate
- Báº¡n sáº½ tháº¥y 1 Elastic IP vÃ­ dá»¥: 3.91.112.66

ğŸ”— BÆ°á»›c B: Associate Elastic IP vá»›i EC2
- Chá»n Elastic IP â†’ Actions â†’ Associate Elastic IP
- Resource Type: Instance
- Chá»n EC2 cáº§n gÃ¡n
- Private IP: chá»n private IP cá»§a EC2 Ä‘Ã³
XÃ¡c nháº­n

BÃ i 50: EC2 Placement Groups
* EC2 Placement Groups lÃ  gÃ¬?
- Placement Group cho phÃ©p báº¡n quy Ä‘á»‹nh cÃ¡ch cÃ¡c EC2 instance Ä‘Æ°á»£c Ä‘áº·t váº­t lÃ½ trong cÃ¹ng vÃ¹ng (Availability Zone) Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c cÃ¡c má»¥c tiÃªu hiá»‡u nÄƒng hoáº·c kháº£ nÄƒng chá»‹u lá»—i.

ğŸ“¦ CÃ³ 3 loáº¡i Placement Group chÃ­nh:
Loáº¡i	        Má»¥c Ä‘Ã­ch	                                 Äáº·c Ä‘iá»ƒm
Cluster	      Tá»‘i Ä‘a hiá»‡u nÄƒng máº¡ng	                     CÃ¡c instance Ä‘áº·t ráº¥t gáº§n nhau, thÆ°á»ng cÃ¹ng rack. ThÃ­ch há»£p cho workload cáº§n bÄƒng thÃ´ng cao vÃ  Ä‘á»™ trá»… tháº¥p nhÆ° Big Data, HPC, ML
Spread	      TÄƒng Ä‘á»™ sáºµn sÃ ng	                         CÃ¡c instance Ä‘Æ°á»£c Ä‘áº·t trÃªn pháº§n cá»©ng tÃ¡ch biá»‡t â†’ náº¿u 1 mÃ¡y váº­t lÃ½ lá»—i, cÃ¡c instance khÃ¡c khÃ´ng bá»‹ áº£nh hÆ°á»Ÿng
Partition	    CÃ¢n báº±ng giá»¯a hiá»‡u nÄƒng vÃ  Ä‘á»™ sáºµn sÃ ng	   CÃ¡c instance Ä‘Æ°á»£c Ä‘áº·t vÃ o cÃ¡c partition khÃ¡c nhau, má»—i partition náº±m trÃªn pháº§n cá»©ng riÃªng biá»‡t. DÃ¹ng cho há»‡ thá»‘ng phÃ¢n tÃ¡n nhÆ° HDFS, Kafka,...

BÃ i 51: EC2 Placement Groups Hands On
ğŸ› ï¸ EC2 Placement Groups â€“ Thá»±c hÃ nh
âœ… BÆ°á»›c 1: Táº¡o Placement Group
- VÃ o AWS Console â†’ EC2 â†’ Placement Groups
- Nháº¥n Create placement group
* Nháº­p:
- Name: vÃ­ dá»¥ pg-cluster-demo
- Strategy: cluster, spread, hoáº·c partition
- Number of partitions (náº¿u chá»n partition)
- Nháº¥n Create

âœ… BÆ°á»›c 2: Táº¡o EC2 Instance vÃ  gÃ¡n Placement Group
- Khi táº¡o EC2 má»›i:
- VÃ o EC2 â†’ Launch Instance
- Chá»n AMI vÃ  loáº¡i instance (tá»‘t nháº¥t chá»n loáº¡i há»— trá»£ ENA nhÆ° t3, c5, m5)
- Configure Instance Details:
- á» pháº§n Placement Group, chá»n:
- "Add instance to placement group" â†’ Chá»n placement group vá»«a táº¡o

ğŸ§  ChÃº Ã½:
* Vá»›i cluster, cÃ¡c instance pháº£i cÃ¹ng type vÃ  cÃ¹ng AZ
* Vá»›i spread, chá»‰ tá»‘i Ä‘a 7 instance / AZ
* Vá»›i partition, cáº§n chá»n sá»‘ lÆ°á»£ng partition khi táº¡o group

âœ… BÆ°á»›c 3: Kiá»ƒm tra hiá»‡u quáº£ (vá»›i Cluster)
- Náº¿u báº¡n chá»n loáº¡i cluster, báº¡n cÃ³ thá»ƒ kiá»ƒm tra hiá»‡u nÄƒng truyá»n dá»¯ liá»‡u máº¡ng giá»¯a cÃ¡c instance:

BÃ i 52 Elastic Network Interfaces(ENI) - Overview
DÄ© nhiÃªn! DÆ°á»›i Ä‘Ã¢y lÃ  pháº§n giáº£i thÃ­ch Elastic Network Interface (ENI) báº±ng tiáº¿ng Viá»‡t, dá»… hiá»ƒu vÃ  Ä‘áº§y Ä‘á»§:

ğŸ§  Elastic Network Interface (ENI) lÃ  gÃ¬?
ENI lÃ  má»™t card máº¡ng áº£o trong AWS, giá»‘ng nhÆ° card máº¡ng váº­t lÃ½ trÃªn mÃ¡y chá»§ tháº­t. ENI cÃ³ thá»ƒ gáº¯n vÃ o cÃ¡c EC2 instance Ä‘á»ƒ giÃºp chÃºng giao tiáº¿p trong máº¡ng VPC.

ğŸ§© ENI bao gá»“m nhá»¯ng gÃ¬?
ThÃ nh pháº§n	                         Chá»©c nÄƒng
Private IP chÃ­nh	                   IP ná»™i bá»™ máº·c Ä‘á»‹nh
Private IP phá»¥ (tÃ¹y chá»n)	           DÃ¹ng khi cáº§n nhiá»u IP
Elastic IP (tÃ¹y chá»n)	               IP cÃ´ng cá»™ng cá»‘ Ä‘á»‹nh
Security Group riÃªng	               GÃ¡n firewall riÃªng cho ENI
Subnet	                             ENI luÃ´n thuá»™c vá» 1 subnet
MAC Address	                         NhÆ° card máº¡ng tháº­t

BÃ i 53: Elastic Network Interfaces(ENI) - Hands On

ğŸ§° Äiá»u kiá»‡n chuáº©n bá»‹
- YÃªu cáº§u	MÃ´ táº£
- TÃ i khoáº£n AWS	ÄÃ£ kÃ­ch hoáº¡t VPC, EC2
- CÃ³ 2 EC2 instance	CÃ¹ng subnet hoáº·c cÃ¹ng VPC
- Subnet vÃ  Security Group	CÃ³ sáºµn hoáº·c tá»± táº¡o

ğŸ› ï¸ BÆ°á»›c 1: Táº¡o ENI
- Truy cáº­p EC2 Console â†’ bÃªn trÃ¡i chá»n Network Interfaces
- Nháº¥n Create Network Interface

Nháº­p:
- Description: eni-lab-demo
   * Subnet: chá»n subnet cá»§a EC2 báº¡n Ä‘ang dÃ¹ng
   * Private IP: Ä‘á»ƒ máº·c Ä‘á»‹nh hoáº·c chá»n IP trong subnet
   * Security Group: nÃªn chá»n security group cÃ³ má»Ÿ cá»•ng SSH (22) Ä‘á»ƒ dá»… test
   * Nháº¥n Create network interface

ğŸ§· BÆ°á»›c 2: Gáº¯n ENI vÃ o EC2 instance
- Trong danh sÃ¡ch Network Interface â†’ chá»n ENI vá»«a táº¡o
- Nháº¥n Actions â†’ Attach
- Chá»n 1 EC2 instance (vÃ­ dá»¥: EC2-A)
- Nháº¥n Attach

ğŸ–¥ï¸ BÆ°á»›c 3: SSH vÃ o EC2 vÃ  kiá»ƒm tra ENI
- ip addr show Hoáº·c: ifconfig
* Báº¡n sáº½ tháº¥y 2 interface:
* eth0 lÃ  ENI máº·c Ä‘á»‹nh
* eth1 lÃ  ENI má»›i vá»«a gáº¯n

ğŸ” BÆ°á»›c 4: ThÃ¡o ENI vÃ  gáº¯n vÃ o EC2 khÃ¡c (failover demo)
- ThÃ¡o:
- Quay láº¡i AWS Console â†’ ENI â†’ Actions â†’ Detach
- Äá»£i vÃ i giÃ¢y cho ENI tÃ¡ch ra khá»i EC2-A

- Gáº¯n vÃ o EC2 khÃ¡c:
- Attach ENI vÃ o EC2-B
- SSH vÃ o EC2-B vÃ  kiá»ƒm tra:
- ip addr show Báº¡n sáº½ tháº¥y ENI má»›i Ä‘Ã£ Ä‘Æ°á»£c gáº¯n vÃ o EC2-B. IP khÃ´ng thay Ä‘á»•i.

ğŸ” Kiá»ƒm tra káº¿t ná»‘i
- Tá»« mÃ¡y khÃ¡c (hoáº·c mÃ¡y local), thá»­ ping hoáº·c SSH tá»›i IP cá»§a ENI:
- ssh ec2-user@<eni-private-ip>
- Miá»…n lÃ  security group cho phÃ©p cá»•ng 22, báº¡n sáº½ truy cáº­p Ä‘Æ°á»£c.

BÃ i 55: EC2 Hibernate
- EC2 Hibernate lÃ  má»™t tÃ­nh nÄƒng cho phÃ©p báº¡n táº¡m dá»«ng (pause) EC2 instance vÃ  lÆ°u tráº¡ng thÃ¡i bá»™ nhá»› RAM cá»§a nÃ³ ra á»• Ä‘Ä©a (EBS).
Khi khá»Ÿi Ä‘á»™ng láº¡i, instance sáº½ khÃ´i phá»¥c láº¡i toÃ n bá»™ phiÃªn lÃ m viá»‡c y nhÆ° trÆ°á»›c (bao gá»“m RAM, tiáº¿n trÃ¬nh, bá»™ nhá»› cache...).

BÃ i 56: EC2 Hibernate - Hands On
ğŸ› ï¸ BÆ¯á»šC 1: Táº¡o EC2 Instance cÃ³ báº­t Hibernate
- VÃ o AWS Console â†’ EC2 â†’ Launch Instance
- Äáº·t tÃªn vÃ­ dá»¥: ec2-hibernate-demo
- Chá»n AMI: Amazon Linux 2 hoáº·c Ubuntu
- Chá»n Instance Type: t3.medium hoáº·c m5.large
- Key Pair: Chá»n key pair báº¡n cÃ³
- Network settings: DÃ¹ng default VPC/Subnet (hoáº·c subnet báº¡n táº¡o)
- Configure storage:
- Äáº£m báº£o á»• EBS Ä‘Æ°á»£c Enable encryption (aws/ebs key hoáº·c custom key)
Advanced details:
Tick vÃ o: âœ… Enable hibernation as an additional stop behavior
ğŸ“Œ LÆ°u Ã½: Náº¿u checkbox khÃ´ng xuáº¥t hiá»‡n â†’ cÃ³ thá»ƒ instance type hoáº·c EBS chÆ°a mÃ£ hÃ³a!
Nháº¥n Launch Instance

ğŸ–¥ï¸ BÆ¯á»šC 2: SSH vÃ o Instance vÃ  táº¡o tráº¡ng thÃ¡i
- ssh -i your-key.pem ec2-user@<your-ec2-ip>

# Simulate running workload
echo "Hello from RAM" > /dev/shm/ramfile
cat /dev/shm/ramfile
ğŸ“Œ /dev/shm lÃ  thÆ° má»¥c RAM (tmpfs), sáº½ máº¥t náº¿u stop thÆ°á»ng nhÆ°ng giá»¯ láº¡i náº¿u dÃ¹ng hibernate.

ğŸ” BÆ¯á»šC 3: Hibernate EC2
VÃ o AWS Console â†’ EC2 â†’ Instances
- Chá»n instance vá»«a táº¡o
- Nháº¥n Instance state â†’ Stop instance
Trong há»™p thoáº¡i sáº½ tháº¥y:

âœ… TÃ¹y chá»n "Stop with Hibernate" â†’ nháº¥n Confirm
(hoáº·c dÃ¹ng CLI)
- aws ec2 stop-instances --instance-ids i-xxxxxxxxxxxxxxxxx --hibernate
âœ… BÆ¯á»šC 4: Start láº¡i vÃ  xÃ¡c minh
Sau vÃ i phÃºt â†’ EC2 chuyá»ƒn vá» tráº¡ng thÃ¡i stopped (hibernated)
Nháº¥n Start instance
- SSH láº¡i vÃ o instance
- cat /dev/shm/ramfile
ğŸ‘‰ Náº¿u tháº¥y "Hello from RAM" â†’ Hibernate Ä‘Ã£ thÃ nh cÃ´ng!

Pháº§n 7: EC2 instance Storage

BÃ i 57: EBS Overview
- Amazon EBS (Elastic Block Store) lÃ  dá»‹ch vá»¥ lÆ°u trá»¯ dáº¡ng á»• Ä‘Ä©a block (giá»‘ng nhÆ° á»• cá»©ng) Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ gáº¯n vÃ o EC2 instance trong AWS.
ğŸ“Œ NÃ³ hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tá»± nhÆ° á»• SSD/HDD trÃªn mÃ¡y tÃ­nh, nhÆ°ng Ä‘Æ°á»£c quáº£n lÃ½ hoÃ n toÃ n bá»Ÿi AWS, cÃ³ thá»ƒ má»Ÿ rá»™ng, mÃ£ hÃ³a vÃ  backup dá»… dÃ ng.

BÃ i 58: EBS Hands On
ğŸ› ï¸ BÆ¯á»šC 1: Chuáº©n bá»‹ EC2 instance
- VÃ o EC2 â†’ Instances â†’ Launch instance
- AMI: Amazon Linux 2 hoáº·c Ubuntu
- Instance type: t2.micro (cho free-tier)
- Key pair: chá»n hoáº·c táº¡o má»›i
- Network & Security Group: má»Ÿ cá»•ng SSH (22)
- Launch EC2

ğŸ’¾ BÆ¯á»šC 2: Táº¡o EBS Volume
- VÃ o EC2 â†’ Volumes (trong má»¥c "Elastic Block Store")
- Nháº¥n Create Volume

- Size: vÃ­ dá»¥ 1 GiB
- Volume type: gp3
- Availability Zone: pháº£i trÃ¹ng vá»›i AZ cá»§a EC2 (vÃ­ dá»¥: us-east-1a)
- Nháº¥n Create Volume

ğŸ”— BÆ¯á»šC 3: Gáº¯n EBS vÃ o EC2
- Chá»n volume má»›i táº¡o â†’ Actions â†’ Attach Volume
- Chá»n EC2 instance vá»«a táº¡o
- Device name: /dev/xvdf (hoáº·c Ä‘á»ƒ máº·c Ä‘á»‹nh)
- Nháº¥n Attach

ğŸ–¥ï¸ BÆ¯á»šC 4: SSH vÃ o EC2 vÃ  format EBS
# Káº¿t ná»‘i SSH
- ssh -i my-key.pem ec2-user@<Public-IP>
- lsblk
- sudo mkfs -t ext4 /dev/xvdf
- sudo mkdir /data-ebs
- sudo mount /dev/xvdf /data-ebs
- echo "Hello from EBS" | sudo tee /data-ebs/test.txt
- cat /data-ebs/test.txt

ğŸ”Œ BÆ¯á»šC 5: Unmount vÃ  ThÃ¡o Volume
# Unmount á»• Ä‘Ä©a
- sudo umount /data-ebs

BÃ i 59: EBS Snapshots 
âœ… 1. EBS Snapshot lÃ  gÃ¬?
EBS Snapshot lÃ  báº£n sao lÆ°u (backup) toÃ n bá»™ dá»¯ liá»‡u cá»§a má»™t EBS volume táº¡i thá»i Ä‘iá»ƒm cá»¥ thá»ƒ. NÃ³ Ä‘Æ°á»£c lÆ°u trong Amazon S3 (áº©n bÃªn dÆ°á»›i), giÃºp báº¡n cÃ³ thá»ƒ:
ğŸ”„ KhÃ´i phá»¥c láº¡i volume khi bá»‹ máº¥t dá»¯ liá»‡u
ğŸš€ Táº¡o nhanh volume má»›i tá»« báº£n snapshot
ğŸŒ Sao chÃ©p snapshot sang Region khÃ¡c
ğŸ§ª Tá»± Ä‘á»™ng hÃ³a backup hÃ ng ngÃ y

ğŸ§  2. TÃ­nh nÄƒng chÃ­nh cá»§a Snapshot
TÃ­nh nÄƒng                 	          MÃ´ táº£
ğŸ” Incremental backup               	Snapshot Ä‘áº§u tiÃªn lÆ°u toÃ n bá»™ dá»¯ liá»‡u, cÃ¡c snapshot sau chá»‰ lÆ°u pháº§n thay Ä‘á»•i
ğŸ§  KhÃ´ng cáº§n táº¯t EC2	                CÃ³ thá»ƒ táº¡o snapshot trá»±c tiáº¿p khi EC2 Ä‘ang cháº¡y
ğŸ§¹ XÃ³a snapshot cÅ© an toÃ n	          XÃ³a snapshot khÃ´ng lÃ m máº¥t dá»¯ liá»‡u náº¿u cÃ²n snapshot sau
ğŸ—‚ï¸ Snapshot quáº£n lÃ½ riÃªng biá»‡t	      KhÃ´ng phá»¥ thuá»™c EC2 hay volume ban Ä‘áº§u

BÃ i 60: EBS Snapshots - Hands On
ğŸ› ï¸ BÆ¯á»šC 1: Táº¡o EC2 instance
- VÃ o AWS Console â†’ EC2 > Launch Instance
- AMI: chá»n Amazon Linux 2
- Instance type: t2.micro (Free-tier)
- Cáº¥u hÃ¬nh máº¡ng vÃ  SSH key
- Launch instance

ğŸ’¾ BÆ¯á»šC 2: Táº¡o vÃ  gáº¯n Volume
- VÃ o EC2 > Volumes > Create Volume
- Size: 1 GiB
- Volume type: gp3
- AZ: trÃ¹ng vá»›i EC2 (vÃ­ dá»¥ us-east-1a)
- Sau khi táº¡o xong â†’ chá»n volume â†’ Actions > Attach volume
- Chá»n instance vá»«a táº¡o
- Device name: /dev/xvdf

ğŸ–¥ï¸ BÆ¯á»šC 3: SSH vÃ  ghi dá»¯ liá»‡u
- ssh -i my-key.pem ec2-user@<EC2-IP>
- sudo mkfs -t ext4 /dev/xvdf
- sudo mkdir /data
- sudo mount /dev/xvdf /data
- echo "Backup from EBS snapshot" | sudo tee /data/test.txt
- cat /data/test.txt

ğŸ“¸ BÆ¯á»šC 4: Táº¡o Snapshot tá»« volume
- VÃ o AWS Console â†’ EC2 > Volumes
- Chá»n volume /dev/xvdf vá»«a gáº¯n
- Actions â†’ Create Snapshot
- Äáº·t tÃªn: snapshot-demo
- MÃ´ táº£: Backup trÆ°á»›c khi xÃ³a
- Nháº¥n Create Snapshot
- VÃ o tab Snapshots Ä‘á»ƒ xem tiáº¿n trÃ¬nh (status â†’ completed)

ğŸ§¹ BÆ¯á»šC 5: Unmount vÃ  XÃ³a volume
# Unmount
- sudo umount /data
- VÃ o Console â†’ Detach volume khá»i EC2
- Sau khi detach â†’ chá»n volume â†’ Delete

â™»ï¸ BÆ¯á»šC 6: Táº¡o láº¡i Volume tá»« Snapshot
- VÃ o Snapshots
- Chá»n snapshot snapshot-demo
- Actions â†’ Create Volume
- Chá»n AZ: pháº£i trÃ¹ng EC2
- Dung lÆ°á»£ng: giá»¯ nguyÃªn hoáº·c tÄƒng
- Nháº¥n Create Volume

ğŸ”— BÆ¯á»šC 7: Gáº¯n láº¡i Volume vÃ  kiá»ƒm tra
- VÃ o Volumes â†’ Attach Volume
- Gáº¯n vÃ o EC2 nhÆ° cÅ©, device: /dev/xvdf

# SSH láº¡i vÃ o EC2
- ssh -i my-key.pem ec2-user@<EC2-IP>

# Mount láº¡i
sudo mkdir /data
sudo mount /dev/xvdf /data

# Kiá»ƒm tra dá»¯ liá»‡u
cat /data/test.txt
ğŸ‘‰ Káº¿t quáº£: báº¡n tháº¥y dÃ²ng "Backup from EBS snapshot" â†’ Restore thÃ nh cÃ´ng!

BÃ i 61: AMI Overview
ğŸ“¦ AMI Overview â€“ Amazon Machine Image lÃ  gÃ¬?
âœ… 1. AMI lÃ  gÃ¬?
* AMI (Amazon Machine Image) lÃ  má»™t báº£n sao lÆ°u Ä‘áº§y Ä‘á»§ cá»§a EC2 instance, bao gá»“m:
- Há»‡ Ä‘iá»u hÃ nh (Linux, Windowsâ€¦)
- á»” Ä‘Ä©a EBS (vá»›i pháº§n má»m Ä‘Ã£ cÃ i sáºµn, cáº¥u hÃ¬nh há»‡ thá»‘ngâ€¦)
- ThÃ´ng tin khá»Ÿi Ä‘á»™ng (boot, phÃ¢n vÃ¹ngâ€¦)
- TÃ¹y chá»n launch permissions (ai cÃ³ thá»ƒ dÃ¹ng AMI)

ğŸ§  AMI giÃºp báº¡n táº¡o ra nhiá»u EC2 giá»‘ng há»‡t nhau chá»‰ trong vÃ i giÃ¢y â€” ráº¥t phÃ¹ há»£p Ä‘á»ƒ:
- Táº¡o template cho server
- Backup toÃ n bá»™ EC2
- Tá»± Ä‘á»™ng hÃ³a triá»ƒn khai mÃ´i trÆ°á»ng

BÃ i 62: AMI Hands On
ğŸ› ï¸ BÆ¯á»šC 1: Táº¡o EC2 vÃ  ghi dá»¯ liá»‡u
- VÃ o EC2 > Instances > Launch Instance
- AMI: Amazon Linux 2
- Instance type: t2.micro
- Key pair: Chá»n/ táº¡o má»›i
- Má»Ÿ port 22 (SSH)
- Launch instance

ğŸ“¸ BÆ¯á»šC 2: Táº¡o AMI tá»« EC2 hiá»‡n táº¡i
- VÃ o EC2 > Instances
- Chá»n instance â†’ Actions â†’ Image and templates â†’ Create image
- Äáº·t tÃªn: my-custom-ami
- Tick: Include volumes (máº·c Ä‘á»‹nh)
- Nháº¥n Create image

ğŸ“Œ Xem tráº¡ng thÃ¡i táº¡i EC2 > AMIs â†’ Ä‘á»£i status: available

ğŸš€ BÆ¯á»šC 3: Táº¡o EC2 má»›i tá»« AMI
- VÃ o EC2 > AMIs
- Chá»n AMI my-custom-ami vá»«a táº¡o
- Nháº¥n Launch instance from image
- Cáº¥u hÃ¬nh nhÆ° instance ban Ä‘áº§u
- Launch instance

âœ… BÆ¯á»šC 4: SSH vÃ  kiá»ƒm tra EC2 má»›i
- Sau khi táº¡o xong Ami 
- vÃ o láº¡i EC2 > instances 
- laucnh instances 
- Ä‘iá»n nhÆ° bÆ°á»›c 1 nhÆ°ng á»Ÿ pháº§n Applcation and OS images 
- chá»n My AMIs > chá»n AMIs vá»«a táº¡o lÃºc á»Ÿ Amazon Machine image  

BÃ i 63: EC2 Instance Store
EC2 Instance Store (cÃ²n gá»i lÃ  Ephemeral Storage) lÃ  má»™t loáº¡i lÆ°u trá»¯ táº¡m thá»i gáº¯n liá»n vá»›i mÃ¡y áº£o EC2 instance trÃªn AWS. DÆ°á»›i Ä‘Ã¢y lÃ  Ä‘á»‹nh nghÄ©a vÃ  cÃ¡c Ä‘áº·c Ä‘iá»ƒm chÃ­nh:

âœ… Äá»‹nh nghÄ©a:
- EC2 Instance Store lÃ  má»™t loáº¡i bá»™ nhá»› váº­t lÃ½ náº±m trá»±c tiáº¿p trÃªn mÃ¡y chá»§ váº­t lÃ½ (host machine) mÃ  EC2 instance Ä‘ang cháº¡y.
Khi báº¡n táº¡o má»™t instance, náº¿u loáº¡i instance Ä‘Ã³ há»— trá»£ instance store thÃ¬ báº¡n cÃ³ thá»ƒ gáº¯n cÃ¡c á»• Ä‘Ä©a nÃ y Ä‘á»ƒ sá»­ dá»¥ng nhÆ° á»• Ä‘Ä©a cá»©ng táº¡m thá»i.

BÃ i 64: EBS Volume Types
Amazon EBS (Elastic Block Store) cung cáº¥p nhiá»u loáº¡i Volume (á»• Ä‘Ä©a) Ä‘á»ƒ phá»¥c vá»¥ cÃ¡c má»¥c Ä‘Ã­ch khÃ¡c nhau vá» hiá»‡u suáº¥t, chi phÃ­ vÃ  khá»‘i lÆ°á»£ng cÃ´ng viá»‡c. DÆ°á»›i Ä‘Ã¢y lÃ  báº£ng tÃ³m táº¯t cÃ¡c loáº¡i EBS Volume phá»• biáº¿n nháº¥t:

ğŸ§± 1. SSD-Based Volumes (DÃ nh cho tÃ¡c vá»¥ IOPS cao)
Loáº¡i Volume	                  TÃªn Ä‘áº§y Ä‘á»§	                            DÃ¹ng cho	                        Äáº·c Ä‘iá»ƒm ná»•i báº­t
gp3	                          General Purpose SSD (phiÃªn báº£n má»›i)	    Háº§u háº¿t cÃ¡c workload	            âœ… Hiá»‡u nÄƒng cao, chi phÃ­ tháº¥p hÆ¡n gp2
                                                                                                        âœ… TÃ¹y chá»‰nh IOPS vÃ  throughput

gp2	                          General Purpose SSD (cÅ© hÆ¡n)	          Workload thÃ´ng thÆ°á»ng            	âœ… IOPS theo dung lÆ°á»£ng (3 IOPS/GB)
                                                                                                        â›” KhÃ´ng tÃ¹y chá»‰nh IOPS

io2	                          Provisioned IOPS SSD (phiÃªn báº£n má»›i)	  Database, app latency tháº¥p	      âœ… Äá»™ bá»n cao (99.999%)
                                                                                                        âœ… Tá»‘i Ä‘a 500 IOPS/GB

io1	                          Provisioned IOPS SSD (cÅ© hÆ¡n)          	Database yÃªu cáº§u cao	            âœ… Giá»‘ng io2 nhÆ°ng Ä‘á»™ bá»n tháº¥p hÆ¡n
â›” Chi phÃ­ cao hÆ¡n

ğŸ’½ 2. HDD-Based Volumes (DÃ nh cho lÆ°u trá»¯ khá»‘i lÆ°á»£ng lá»›n, giÃ¡ ráº»)
Loáº¡i Volume	                 TÃªn Ä‘áº§y Ä‘á»§	                              DÃ¹ng cho	                        Äáº·c Ä‘iá»ƒm ná»•i báº­t
st1	                         Throughput Optimized HDD	                Big data, log processing	        âœ… Dung lÆ°á»£ng lá»›n
                                                                                                        âœ… Tá»‘c Ä‘á»™ truyá»n dá»¯ liá»‡u cao
                                                                                                        â›” KhÃ´ng dÃ¹ng cho IOPS cao

sc1	                         Cold HDD	                                LÆ°u trá»¯ Ã­t truy cáº­p	              âœ… Ráº» nháº¥t
                                                                                                        â›” Hiá»‡u nÄƒng tháº¥p, chá»‰ dÃ¹ng cho dá»¯ liá»‡u â€œcoldâ€

ğŸ“Š So sÃ¡nh nhanh (báº£ng tÃ³m táº¯t)
Volume	                  Kiá»ƒu	                IOPS tá»‘i Ä‘a                  	Throughput tá»‘i Ä‘a	                  DÃ¹ng cho
gp3	                      SSD	                  16,000                      	1,000 MB/s                        	Web, app, general workload
gp2                      	SSD	                  16,000                      	250 MB/s (tÃ¹y thuá»™c dung lÆ°á»£ng)    	General purpose
io1                      	SSD	                  64,000                      	1,000 MB/s	                        OLTP, NoSQL, latency-sensitive apps
io2                      	SSD	                  64,000+                      	1,000 MB/s	                        DB, mission-critical workloads
st1                      	HDD	                  ~500                        	500 MB/s	                          Big data, streaming
sc1                      	HDD                  	~250                        	250 MB/s	                          Archival, infrequent access

ğŸ“Œ Gá»£i Ã½ chá»n Volume:
âœ… gp3 â€“ Khuyáº¿n nghá»‹ dÃ¹ng cho háº§u háº¿t cÃ¡c á»©ng dá»¥ng (cÃ¢n báº±ng hiá»‡u suáº¥t vÃ  chi phÃ­).

âœ… io2 â€“ DÃ¹ng cho há»‡ thá»‘ng cáº§n IOPS cá»±c cao vÃ  Ä‘á»™ tin cáº­y tá»‘i Ä‘a (vÃ­ dá»¥ database Oracle, SAP).

âœ… st1 â€“ DÃ¹ng cho big data cáº§n throughput cao, nhÆ°ng khÃ´ng yÃªu cáº§u IOPS cao.

âœ… sc1 â€“ Dá»¯ liá»‡u lÆ°u trá»¯ lÃ¢u dÃ i, Ã­t truy cáº­p (backup, archive).

BÃ i 65: EBS Multi-Attach
ğŸ”— Amazon EBS Multi-Attach â€“ LÃ  gÃ¬?
- EBS Multi-Attach lÃ  tÃ­nh nÄƒng cho phÃ©p nhiá»u EC2 instances trong cÃ¹ng má»™t Availability Zone
(AZ)cÃ³ thá»ƒ gáº¯n (attach) Ä‘á»“ng thá»i cÃ¹ng má»™t EBS volume á»Ÿ cháº¿ Ä‘á»™ read-write.

BÃ i 66: EBS Encryption
ğŸ” EBS Encryption â€“ MÃ£ hÃ³a á»• Ä‘Ä©a EBS
- EBS Encryption lÃ  tÃ­nh nÄƒng cá»§a AWS cho phÃ©p mÃ£ hÃ³a dá»¯ liá»‡u trong cÃ¡c á»• Ä‘Ä©a EBS (Elastic Block Store),
giÃºp tÄƒng cÆ°á»ng báº£o máº­t dá»¯ liá»‡u khi lÆ°u trá»¯ vÃ  truyá»n táº£i.

BaÃ¬ 67: Amazon EFS
âœ… Amazon EFS (Elastic File System) lÃ  gÃ¬?
- Amazon EFS lÃ  má»™t dá»‹ch vá»¥ lÆ°u trá»¯ file há»‡ thá»‘ng dÃ¹ng chung, linh hoáº¡t vÃ  tá»± má»Ÿ rá»™ng Ä‘Æ°á»£c cung 
cáº¥p bá»Ÿi AWS, cho phÃ©p nhiá»u EC2 instance truy cáº­p Ä‘á»“ng thá»i cÃ¹ng má»™t há»‡ thá»‘ng file nhÆ° má»™t á»• Ä‘Ä©a máº¡ng.

BÃ i 68: Amazon EFS - Hands On
ğŸ› ï¸ BÆ¯á»šC 1: Táº¡o VPC vÃ  Security Group
Báº¡n cÃ³ thá»ƒ dÃ¹ng default VPC, hoáº·c táº¡o VPC riÃªng náº¿u cáº§n cáº¥u hÃ¬nh nÃ¢ng cao.

âœ… Táº¡o Security Group EFS:
- VÃ o EC2 > Security Groups > Create security group
- Äáº·t tÃªn: efs-sg
- ThÃªm rule:
     * Type: NFS
     * Port: 2049
     * Source: Security group cá»§a EC2 hoáº·c 0.0.0.0/0 (test)
- Nháº¥n Create

ğŸ§¾ BÆ¯á»šC 2: Táº¡o Amazon EFS
- VÃ o EFS > Create file system
- Äáº·t tÃªn: my-efs
- Chá»n VPC: nÃªn chá»n default VPC náº¿u chÆ°a táº¡o riÃªng
- Add mount targets cho má»—i AZ (máº·c Ä‘á»‹nh AWS táº¡o sáºµn)
- Chá»n Ä‘Ãºng security group efs-sg
- Nháº¥n Create

ğŸ‘‰ Chá» vÃ i phÃºt Ä‘á»ƒ EFS Ä‘Æ°á»£c khá»Ÿi táº¡o

ğŸ’» BÆ¯á»šC 3: Táº¡o EC2 instances
- Táº¡o 2 EC2 instance:
- AMI: Amazon Linux 2
- Type: t2.micro
- Security group: má»Ÿ port SSH (22) vÃ  thÃªm efs-sg (hoáº·c cho phÃ©p NFS tá»« EFS)
- Launch cáº£ 2 instance

ğŸ”— BÆ¯á»šC 4: CÃ i Ä‘áº·t EFS utils vÃ  mount
TrÃªn cáº£ 2 EC2 instance, thá»±c hiá»‡n:

# Cáº­p nháº­t & cÃ i EFS utilities
- sudo yum update -y
- sudo yum install -y amazon-efs-utils

# Táº¡o thÆ° má»¥c mount
- sudo mkdir /mnt/efs

# Mount EFS (thay ID báº±ng ID thá»±c táº¿ cá»§a báº¡n)
- sudo mount -t efs <EFS-ID>:/ /mnt/efs

# Kiá»ƒm tra mount thÃ nh cÃ´ng
- df -hT | grep efs
ğŸ“Œ VÃ­ dá»¥: náº¿u EFS-ID lÃ  fs-12345678 â†’ báº¡n mount nhÆ°:
- sudo mount -t efs fs-12345678:/ /mnt/efs

ğŸ§ª BÆ¯á»šC 5: Ghi & chia sáº» dá»¯ liá»‡u
# TrÃªn EC2 sá»‘ 1:
- echo "Hello from EC2-1" | sudo tee /mnt/efs/test.txt

# TrÃªn EC2 sá»‘ 2:
- cat /mnt/efs/test.txt
ğŸ‘‰ Náº¿u Ä‘á»c Ä‘Æ°á»£c "Hello from EC2-1" â†’ ThÃ nh cÃ´ng!

ğŸ§¼ BÆ¯á»šC 6 (tÃ¹y chá»n): Tá»± Ä‘á»™ng mount khi reboot
# ThÃªm dÃ²ng sau vÃ o /etc/fstab Ä‘á»ƒ mount EFS khi EC2 khá»Ÿi Ä‘á»™ng láº¡i:
- echo "fs-12345678:/ /mnt/efs efs defaults,_netdev 0 0" | sudo tee -a /etc/fstab

ğŸ§¹ BÆ¯á»šC 7: Cleanup
- EC2: Stop hoáº·c terminate
- EFS: Delete trong EFS Console
- Security Group: xÃ³a náº¿u khÃ´ng cáº§n

BÃ i 69: EFS vÃ  EBS
DÆ°á»›i Ä‘Ã¢y lÃ  báº£ng so sÃ¡nh chi tiáº¿t vÃ  dá»… hiá»ƒu giá»¯a Amazon EFS vÃ  Amazon EBS â€“ hai dá»‹ch vá»¥ lÆ°u trá»¯ chÃ­nh cá»§a AWS dÃ nh cho EC2:

âœ… So sÃ¡nh Amazon EFS vs Amazon EBS
TiÃªu chÃ­	                                  Amazon EBS (Elastic Block Store)	                                        Amazon EFS (Elastic File System)
ğŸ“¦ Loáº¡i lÆ°u trá»¯	                            Block Storage (á»• cá»©ng áº£o cho tá»«ng EC2)	                                  File Storage (chia sáº» thÆ° má»¥c kiá»ƒu NFS)
ğŸ–¥ï¸ Gáº¯n vá»›i EC2	                            Chá»‰ gáº¯n Ä‘Æ°á»£c 1 EC2 táº¡i 1 thá»i Ä‘iá»ƒm	                                      Gáº¯n Ä‘Æ°á»£c cho nhiá»u EC2 cÃ¹ng lÃºc (multi-AZ)
ğŸŒ Chia sáº» dá»¯ liá»‡u	                        âŒ KhÃ´ng chia sáº» Ä‘Æ°á»£c	                                                  âœ… Chia sáº» dá»… dÃ ng giá»¯a nhiá»u mÃ¡y chá»§
ğŸ“ˆ Tá»± Ä‘á»™ng má»Ÿ rá»™ng	                        âŒ KhÃ´ng â€“ cáº§n tÄƒng size thá»§ cÃ´ng	                                      âœ… CÃ³ â€“ tá»± scale dung lÆ°á»£ng lÃªn tá»›i petabyte
âš™ï¸ Hiá»‡u suáº¥t & Ä‘á»™ trá»…	                      Nhanh, Ä‘á»™ trá»… tháº¥p (thÃ­ch há»£p cho DB)	                                    Cháº­m hÆ¡n chÃºt, phÃ¹ há»£p cho truy cáº­p Ä‘á»“ng thá»i
ğŸ”„ TÃ­nh sáºµn sÃ ng	                          Trong 1 AZ duy nháº¥t (phá»¥ thuá»™c vÃ o EC2 AZ)	                              Multi-AZ (Ä‘áº£m báº£o cao)
ğŸ’µ Chi phÃ­	                                Ráº» hÆ¡n â€“ tÃ­nh theo dung lÆ°á»£ng provisioned	                                Äáº¯t hÆ¡n â€“ tÃ­nh theo dung lÆ°á»£ng sá»­ dá»¥ng tháº­t
ğŸ’¾ TrÆ°á»ng há»£p sá»­ dá»¥ng	                      Database, há»‡ Ä‘iá»u hÃ nh, á»©ng dá»¥ng cáº§n IOPS cao	                            Web server, log, á»©ng dá»¥ng container, dá»¯ liá»‡u chia sáº»
ğŸ§  Giao thá»©c truy cáº­p	                      Block level (ext4, xfs trÃªn EC2)	                                        NFS v4 (mount nhÆ° thÆ° má»¥c máº¡ng)

ğŸ“Œ Khi nÃ o nÃªn dÃ¹ng cÃ¡i nÃ o?
Nhu cáº§u	                                                          NÃªn dÃ¹ng
Cháº¡y database (MySQL, PostgreSQL, MongoDB...) cáº§n tá»‘c Ä‘á»™ cao	    âœ… EBS
DÃ¹ng lÃ m á»• Ä‘Ä©a há»‡ Ä‘iá»u hÃ nh EC2	                                  âœ… EBS
Chia sáº» ná»™i dung website, thÆ° má»¥c upload, log file              	âœ… EFS
Cháº¡y á»©ng dá»¥ng container trÃªn ECS/EKS cáº§n mount thÆ° má»¥c          	âœ… EFS
